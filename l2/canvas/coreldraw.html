<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <section class="d-flex">
        <div>
    
            <canvas id="shape" style="border: 2px solid azure;height: 600px; width: 900px; background-color: azure;"> </canvas>
        </div>
        <div>
            <button onclick="circle()" class="btn d-block btn-success m-3">Circle</button>
            <button onclick="Line()" class="btn d-block btn-success m-3">Line</button>
            <button onclick="triangle()"class="btn d-block btn-success m-3">Triangle</button>
            <button onclick="rectangle()" class="btn d-block btn-success m-3">Rectangle</button>
            <button class="btn d-block btn-success m-3">Square</button>
        </div>
    </section>
    <script>
      rectangle=()=>{
          var canvas = document.getElementById("shape");
          var pen = canvas.getContext('2d');
            pen.lineWidth=1;
            var canvasOffset = canvas.getBoundingClientRect();
           var offsetX = canvasOffset.left;
           var offsetY = canvasOffset.top;
            var down =false;
            var startX;
            var startY; 
            function handleMouseDown(e){
                console.log('handleMouseDown')
                console.log(e)
                  e.preventDefault();
                  e.stopPropagation();
                  startX = parseInt(e.clientX - offsetX);
                startY = parseInt(e.clientY - offsetY);
              down =true;
            }
            function handleMouseUp(e) {
    console.log('handleMouseUp')
    console.log(e)
    e.preventDefault();
    e.stopPropagation();

   
    down = false;
   
}

function handleMouseOut(e) {
    console.log('handleMouseOut')
    console.log(e)
    e.preventDefault();
    e.stopPropagation();

    
    down = false; 
}

function handleMouseMove(e) {
    console.log('handleMouseMove')
    console.log(e)
    e.preventDefault();
    e.stopPropagation();

  
    if (!down) {
        return;
    }

  
    mouseX = parseInt(e.clientX - offsetX);
    mouseY = parseInt(e.clientY - offsetY);

    ctx.clearRect(0, 0, canvas.width, canvas.height);

  
    var width = mouseX - startX;
    var height = mouseY - startY;

    
    ctx.strokeRect(startX, startY, width, height);
    x1 = startX
    y1 = startY
    x2 = width
    y2 = height

}

document.getElementById('canvas').addEventListener('mousedown', function(e) {
  handleMouseDown(e);
});
document.getElementById('canvas').addEventListener('mousemove', function(e) {
  handleMouseMove(e);
});
document.getElementById('canvas').addEventListener('mouseup', function(e) {
  handleMouseUp(e);
});
document.getElementById('canvas').addEventListener('mouseout', function(e) {
  handleMouseOut(e);
});


      }
  
    </script>
</body>
</html>